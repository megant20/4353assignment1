<!DOCTYPE HTML>
<html>
	<head>
		<link rel = "stylesheet" typer = "text/css" href = "/client/styles.css"/>
		<div class="ribbon">
			<a href="/fuelquoteform"><span>Get a Quote</span></a>
			<a href="/fuelquotehistory"><span>Fuel Quote History</span></a>
			<a href="/updateprofile"><span>Profile</span></a>
			<a href="/logout"><span>Log Out</span></a>
		</div>
	</head>
	<body>
		<h1>Fuel Quote Form</h1>
    <form action = "/saveRequest" method = "post">
		<!-- Gallons Requested (numeric, required) -->
		<table>
			<tr>
				<td class="rowHeader"><label for = "gallons">Gallons Requested:</label></td>
				<td class="rowContents"><input type = "number" id="gallons" name="gallons" required></td>
			</tr>

			<!-- Delivery Address (Non-editable, comes from client profile) -->
			<tr>
				<td class="rowHeader"><label for = "address">Delivery Address:</label></td>
				<td class="rowContents"><input type = "text" id="address" name="address" readonly></td>
			</tr>

			<!-- Delivery Date (Calender, date picker) -->
			<tr>
				<td class="rowHeader"><label for = "d_date">Delivery Date:</label></td>
				<td class="rowContents"><input type = "date" id="d_date" name="d_date"></td>
			</tr>
		</table>
      <button type = "submit" name = "fuel-form-submit">Submit</button>

    </form>
	</body>
	<script type = "text/javascript">
		var xhr = new XMLHttpRequest();
		var url = '/getClientAddress';
		
		xhr.addEventListener('load', gotAddress);
		
		xhr.open('GET', url, true);
		xhr.send('');
		
		function gotAddress(evt)
		{
			console.log("got address");
			console.log(xhr.response);
			
			document.getElementById("address").value = xhr.response;
		}
	</script>
</html>
